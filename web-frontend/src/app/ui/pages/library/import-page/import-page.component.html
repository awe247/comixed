<!--  main import content area -->
<div
  *ngIf='pending_imports > 0'
  class='container-fluid w-100'>
  <h2 class='text-center'>{{get_import_title()}}</h2>
  <div *ngIf='delete_blocked_pages'>
    <p>
      Blocked pages in those comics will be automatically marked as <em>deleted</em>...
    </p>
  </div>
</div>
<div
  *ngIf='pending_imports === 0'
  class='ui-g'>
  <div class='ui-g-2 ui-sm-3'>
    <app-import-sidebar
      [disable_inputs]='disable_inputs()'
      [any_selected]='any_selected'
      (loadFiles)='retrieve_files($event)'
      (selectAll)='set_select_all($event)'
      (import)='import_selected_files()'
      (deleteBlockedPages)='set_delete_blocked_pages($event)'
      (showSelectionsOnly)='set_show_selections_only($event)'></app-import-sidebar>
  </div>
  <div class='ui-g-10 ui-sm-10'>
    <div class='ui-g'>
      <div class='ui-g-12'>
        <h2 class='text-center'>{{get_comic_selection_title()}}</h2>
      </div>
      <div class='ui-g-12'>
        <p-dataView
          #importComics
          [value]='file_details'
          [sortField]='sort_by'
          [filterBy]='"filename"'
          [rows]='rows'
          [paginator]='true'
          [paginatorPosition]='"both"'
          alwaysShowPaginator='true'> <p-header>
        <div class='ui-helper-clearfix'>
          <div class='ui-g'>
            <div class='ui-g-1 ui-md-1'>
              Sort by:
              <p-dropdown
                [options]='sort_options'
                [(ngModel)]='sort_by'
                (onChange)='set_sort_by($event.value)'></p-dropdown>
            </div>
            <div class='ui-g-1 ui-md-1'>
              Show:
              <p-dropdown
                [options]='rows_options'
                [(ngModel)]='rows'
                (onChange)='set_rows($event.value)'></p-dropdown>
            </div>
            <div class='ui-g-3 ui-md-3'>
              Search comic names: <input
                type='search'
                pInputText
                placeholder='Search by series name'
                [style.width]='"100%"'
                (keyup)='importComics.filter($event.target.value)'>
            </div>
            <div class='ui-g-3 ui-md-3'>
              Cover size: {{ cover_size }}px
              <p-slider
                [(ngModel)]='cover_size'
                [min]='200'
                [max]='640'
                [animate]='true'
                (onChange)='set_cover_size($event.value)'></p-slider>
            </div>
            <div
              class='ui-g-1 ui-md-1'
              style='text-align: right'>
              <p-dataViewLayoutOptions></p-dataViewLayoutOptions>
            </div>
          </div>
        </div>
        </p-header> <ng-template
          let-file
          pTemplate='listItem'>
        <div class='ui-g'>
          <div class='ui-g-2 ui-md-2'>
            <p-card> <img
              [src]='get_cover_url(file)'
              width='auto'
              [style.width]='"100%"'
              [style.height]='"auto"'> </p-card>
          </div>
          <div class='ui-g-10 ui-md-10'>
            <div class='ui-g'>
              <div class='ui-g-2 ui-sm-2'>
                <b>Filename:</b>
              </div>
              <div class='ui-g-10 ui-sm-10'>{{ file.filename }}</div>
              <div class='ui-g-2 ui-sm-2'>
                <b>File size:</b>
              </div>
              <div class='ui-g-10 ui-sm-10'>{{ file.size }} bytes</div>
            </div>
            <div class='ui-g'>
              <div class='ui-g-12 ui-sm-12'>
                <button
                  pButton
                  type='button'
                  [icon]='file.selected ? "pi pi-check" : "pi pi-times"'
                  [label]='file.selected? "Selected" : "Not Select"'
                  (click)='toggle_selected_state(file)'></button>
              </div>
            </div>
          </div>
        </div>
        </ng-template> <ng-template
          let-file
          pTemplate='gridItem'>
        <div>
          <p-card> <img
            [src]='get_cover_url(file)'
            [style.width]='"auto"'
            [style.height]='"" + cover_size + "px"'> <p-footer>
          <button
            pButton
            type='button'
            [icon]='file.selected ? "pi pi-check" : "pi pi-times"'
            (click)='toggle_selected_state(file)'></button>
          </p-footer></p-card>
        </div>
        </ng-template> </p-dataView>
      </div>
    </div>
  </div>
</div>