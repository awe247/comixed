<p-dataView
  #comicCoverView
  filterBy='series'
  [value]='library.comics'
  [rows]='rows'
  paginator='true'
  paginatorPosition='both'
  [sortField]='sort_by'
  emptyMessage='No comics found.'> <p-header>
<div class='ui-helper-clearfix'>
  <div class='ui-g'>
    <div class='ui-g-1 ui-md-1'>
      Sort by:
      <p-dropdown
        [options]='sort_options'
        [(ngModel)]='sort_by'
        (onChange)='set_sort_order($event.value)'></p-dropdown>
    </div>
    <div class='ui-g-1 ui-md-1'>
      Show:
      <p-dropdown
        [options]='rows_options'
        [(ngModel)]='rows'
        (onChange)='set_rows($event.value)'></p-dropdown>
    </div>
    <div class='ui-g-3 ui-md-3'>
      Search comic names: <input
        type='search'
        pInputText
        placeholder='Search by series name'
        [style.width]='"100%"'
        (keyup)='comicCoverView.filter($event.target.value)'>
    </div>
    <div class='ui-g-6 ui-md-6'>
      Cover size: {{ cover_size }}px
      <p-slider
        [(ngModel)]='cover_size'
        [min]='200'
        [max]='640'
        [animate]='true'
        (onChange)='changeCoverSize.next($event.value)'
        (onSlideEnd)='saveCoverSize.next($event.value)'></p-slider>
    </div>
    <div
      class='ui-g-1 ui-md-1'
      style='text-align: right'>
      <p-dataViewLayoutOptions></p-dataViewLayoutOptions>
    </div>
  </div>
</div>
</p-header> <ng-template
  let-comic
  pTemplate='listItem'>
<div class='ui-g'>
  <div class='ui-g-2 ui-md-2'>
    <p-card> <img
      [src]='get_cover_url(comic)'
      width='auto'
      [style.width]='"100%"'
      [style.height]='"auto"'> </p-card>
  </div>
  <div class='ui-g-10 ui-md-10'>
    <div class='ui-g'>
      <div class='ui-g-12 ui-sm-12'>
        <h2>{{ comic.title || 'No Title' }}</h2>
      </div>
      <div class='ui-g-4'>
        <div class='ui-g'>
          <div class='ui-g-12'>
            <b>Publisher: </b>
          </div>
          <div class='ui-g-12'>
            {{ comic.imprint || comic.publisher || 'Unknown'}}<span
              *ngIf='comic.imprint'> ({{ comic.publisher }})</span>
          </div>
          <div class='ui-g-12'>
            <b>Series: </b>
          </div>
          <div class='ui-g-12'>{{ comic.series || 'Unknown'}}</div>
          <div class='ui-g-12'>
            <b>Volume: </b>
          </div>
          <div class='ui-g-12'>{{ comic.volume || 'Unknown'}}</div>
          <div class='ui-g-12'>
            <b>Issue number: </b>
          </div>
          <div class='ui-g-12'>{{ comic.issue_number ||
            'Unknown'}}</div>
        </div>
      </div>
      <div class='ui-g-4'>
        <div class='ui-g'>
          <div class='ui-g-12'>
            <b>Title: </b>
          </div>
          <div class='ui-g-12'>{{ comic.title || 'Unknown'}}</div>
          <div class='ui-g-12'>
            <b>Added to the library: </b>
          </div>
          <div class='ui-g-12'>{{ comic.added_date | date }}</div>
          <div class='ui-g-12'>
            <b>Pages: </b>
          </div>
          <div class='ui-g-12'>{{ comic.page_count }}</div>
          <div
            *ngIf='comic.comic_vine_url'
            class='ui-g-12'>
            <b>ComicVine Details: </b>
          </div>
          <div class='ui-g-12'>
            The details can be found here: <a
              target='_comicvine'
              [href]='"http://comicvine.gamespot.com/issue/4000-" + comic.comic_vine_id'>{{
              comic.comic_vine_id }}</a>
          </div>
        </div>
      </div>
      <div class='ui-g-4'>
        <div class='ui-g'>
          <div class='ui-g-12'>
            <b>Format</b>
          </div>
          <div class='ui-g-12'>
            <p-inplace
              *ngIf='is_admin'
              closable='closable'> <span pInplaceDisplay>{{
              comic.format?.name }}</span> <span pInplaceContent> <p-dropdown
                [options]='formats'
                [(ngModel)]='comic.format'
                (onChange)='set_comic_format(comic, $event.value)'></p-dropdown>
            </span></p-inplace>
            <span *ngIf='!is_admin'>{{ comic.format.name }}</span>
          </div>
          <div class='ui-g-12'>
            <b>Scan Type: </b>
          </div>
          <div class='ui-g-12'>
            <p-inplace
              *ngIf='is_admin'
              closable='closable'> <span pInplaceDisplay>{{
              comic.scan_type?.name || 'Unknown' }}</span> <span
              pInplaceContent> <p-dropdown
                [options]='scan_types'
                [(ngModel)]='comic.scan_type'
                (onChange)='set_scan_type(comic, $event.value)'></p-dropdown>
            </span> </p-inplace>
            <span
              *ngIf='!is_admin'
              class='ui-g-12'>{{ comic.scan_type.name ||
              'Unknown' }}</span>
          </div>
        </div>
      </div>
      <div class='ui-g-12 ui-sm-12'>
        <p-panel
          *ngIf='comic.description'
          header='Description'
          [toggleable]='true'
          [collapsed]='true'
          [style.width]='"100%"'>
        <div [innerHTML]='comic.description'></div>
        </p-panel>
      </div>
      <div class='ui-g-12 ui-sm-12'>
        <button
          pButton
          tooltipPosition='top'
          pTooltip='Show comic details...'
          type='button'
          icon='fa fa-search'
          (click)='set_selected_comic($event, comic)'
          label='Details'></button>
        <button
          pButton
          pTooltip='Go to details...'
          tooltipPosition='top'
          type='button'
          icon='fa fa-book'
          label='Open Comic'
          (click)='open_comic(comic)'></button>
        <button
          *ngIf='is_admin'
          pButton
          tooltipPosition='top'
          pTooltip='Delete this comic...'
          type='button'
          icon='fa fa-trash'
          (click)='delete_comic(comic)'
          label='Delete'></button>
      </div>
    </div>
  </div>
</div>
</ng-template> <ng-template
  let-comic
  pTemplate='gridItem'>
<div>
  <p-card> <img
    [src]='get_cover_url(comic)'
    width='auto'
    [style.height]='"" + cover_size + "px"'> <p-footer>
  <button
    pButton
    tooltipPosition='top'
    pTooltip='Show comic details...'
    type='button'
    icon='fa fa-search'
    (click)='set_selected_comic($event, comic)'></button>
  <button
    pButton
    pTooltip='Go to details...'
    tooltipPosition='top'
    type='button'
    icon='fa fa-book'
    (click)='open_comic(comic)'></button>
  <button
    *ngIf='is_admin'
    pButton
    tooltipPosition='top'
    pTooltip='Delete this comic...'
    type='button'
    icon='fa fa-trash'
    (click)='delete_comic(comic)'></button>
  </p-footer> </p-card>
</div>
</ng-template> </p-dataView>
