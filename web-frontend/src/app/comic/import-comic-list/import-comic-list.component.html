<!-- import details modal -->
<div id='import-comic-details' class='modal fade' role='dialog'>
  <div class='modal-dialog modal-lg'>
    <div class='modal-content'>
      <div class='modal-body'>
        <div class='container-fluid w-100 p-1'
          [class.comic-selected]='selected_file_detail && selected_file_detail.selected'>
          <app-issue-details [title]='selected_file_detail_title'
            [subtitle]='selected_file_detail_subtitle'
            [cover_url]='selected_file_image_url'
            (close)='selected_file_detail = null'>
          <div class='row w-100 justify-content-center ml-0 mb-3'>
            <button
              *ngIf='selected_file_detail && !selected_file_detail.selected'
              type='button' class='btn w-75 bg-primary text-white'
              (click)='toggle_comic_selection(selected_file_detail)'>
              Select</button>
            <button
              *ngIf='selected_file_detail && selected_file_detail.selected'
              type='button' class='btn w-75 bg-danger text-white'
              (click)='toggle_comic_selection(selected_file_detail)'>
              Deselect</button>
          </div>
          </app-issue-details>
        </div>
      </div>
    </div>
  </div>
</div>
<!--  main import content area -->
<div *ngIf='pending_imports > 0' class='container-fluid w-100'>
  <h2 class='text-center'>{{get_import_title()}}</h2>
  <div *ngIf='delete_blocked_pages'>
    <p>
      Blocked pages in those comics will be automatically marked as <em>deleted</em>...
    </p>
  </div>
</div>
<div *ngIf='pending_imports === 0' id='import-comic-display'
  class='container-fluid w-100'>
  <div class='row w-100'>
    <div class='col-3 bg-light text-black'>
      <app-import-sidebar [page_size]='use_page_size'
        [disable_inputs]='disable_inputs()'
        [any_selected]='any_selected'
        (loadFiles)='retrieve_files($event)'
        (comicsPerPage)='set_page_size($event)'
        (selectAll)='set_select_all($event)'
        (import)='import_selected_files()'
        (deleteBlockedPages)='set_delete_blocked_pages($event)'
        (showSelectionsOnly)='set_show_selections_only($event)'></app-import-sidebar>
    </div>
    <div class='position-fixed comixed-scrollable-div col-9'>
      <div class='container w-100 justify-content-center'>
        <h2 class='text-center'>{{get_comic_selection_title()}}</h2>
        <div *ngIf='file_details.length > 0' class='row w-100'>
          <div
            class='row w-100 justify-content-center bg-secondary text-white'>
            <pagination-controls (pageChange)='current_page = $event'></pagination-controls>
          </div>
          <app-import-comic-list-entry
            *ngFor='let file_detail of file_details | selected_for_import : show_selections_only | paginate: { itemsPerPage: use_page_size, currentPage: current_page }'
            (clicked)='show_details(file_detail)'
            (selected)='toggle_comic_selection(file_detail)'
            [file_details]='file_detail' [cover_size]='cover_size'>
          </app-import-comic-list-entry>
        </div>
      </div>
    </div>
  </div>
</div>
